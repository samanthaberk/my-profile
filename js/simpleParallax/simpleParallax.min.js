!function(e){"object"==typeof module&&"object"==typeof module.exports?e(require("jquery"),window,document):e(jQuery,window,document)}(function(e,t,i,n){"use strict";!function(){for(var e=0,i=["ms","moz","webkit","o"],n=0;n<i.length&&!t.requestAnimationFrame;++n)t.requestAnimationFrame=t[i[n]+"RequestAnimationFrame"],t.cancelAnimationFrame=t[i[n]+"CancelAnimationFrame"]||t[i[n]+"CancelRequestAnimationFrame"];t.requestAnimationFrame||(t.requestAnimationFrame=function(i,n){var o=(new Date).getTime(),s=Math.max(0,16-(o-e)),l=t.setTimeout(function(){i(o+s)},s);return e=o+s,l}),t.cancelAnimationFrame||(t.cancelAnimationFrame=function(e){clearTimeout(e)})}();var o=function(){var e=t.getComputedStyle(i.documentElement,""),n=(Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/)||""===e.OLink&&["","o"])[1];return"moz"==n?"Moz":n}();e.fn.simpleParallax=function(i){function n(i){this.name=s,this.$element=i,this.$elementContainer=this.$element.closest(".simpleParallax"),this.init(),this.scrollEvent=this.scrollEvent.bind(this),e(t).on("scroll",this.scrollEvent)}var s="simpleParallax",l=e.extend({orientation:"up",scale:"1.2"},i),m=!1;return e.extend(n.prototype,{init:function(){m||(this.getViewportOffset(),m=!0),this.$element[0].style[o+"Transform"]="scale("+l.scale+")",this.proceedElement()},getViewportOffset:function(){this.viewportHeight=e(t).outerHeight(),this.viewportTopX=e(t).scrollTop(),this.viewportBottomX=this.viewportTopX+this.viewportHeight,this.viewportTopX-=20,this.viewportBottomX+=20},getElementOffset:function(){this.elementHeight=this.$elementContainer.outerHeight(),this.elementTopX=this.$elementContainer.offset().top,this.elementBottomX=this.elementTopX+this.elementHeight},getElementDimension:function(){this.elementImageHeight=this.$element[0].getBoundingClientRect().height,this.elementRange=Math.abs(this.elementHeight-this.elementImageHeight)},isVisible:function(){return this.elementTopX>this.viewportTopX&&this.elementTopX<this.viewportBottomX||this.elementBottomX<this.viewportBottomX&&this.elementBottomX>this.viewportTopX||this.elementTopX<this.viewportTopX&&this.elementBottomX>this.viewportBottomX},calculate:function(){var e=this.elementRange;"down"===l.orientation&&(e*=-1);var t=(this.viewportBottomX-this.elementTopX)/((this.viewportHeight+this.elementHeight)/100);this.translateValue=t/100*e-e/2},animate:function(){var e;e="scale("+l.scale+") translateY("+this.translateValue+"px)",this.$element[0].style[o+"Transform"]=e},scrollEvent:function(){this.getViewportOffset(),this.proceedElement()},proceedElement:function(){var e=this;e.getElementOffset(),e.isVisible()&&(e.getElementDimension(),e.calculate(),t.requestAnimationFrame(function(){e.animate()}))}}),this.each(function(){var t=e(this);t.closest("picture").length&&(t=e(this).closest("picture")),t.wrap('<div class="simpleParallax" style="overflow:hidden"></div>'),new n(e(this))})}});